<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>carte</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>

    <script defer type="module" src="../js/script.js"></script>
    <script src="../js/p5.js"></script> 
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/png" href="../assets/images/logo-red.png">
</head>
<body class="map-page">

    <!-- Barre de navigation -->
    <header class="site-header">
      <div class="inner">
        <!-- Logo -->
        <a href="../index.html" class="logo">
          <img src="../assets/images/logo.png" alt="Logo du site" />
        </a>
    
        <!-- Navigation -->
        <nav>
          <ul>
            <li><a href="../index.html">Accueil</a></li>
            <li><a href="whattodo.html">Que faire ?</a></li>
            <li><a href="map.html" aria-current="page">Carte</a></li>
          </ul>
        </nav>
      </div>
    </header>
    
    <!-- Conteneur principal de la carte -->
    <div class="container">
      <div id="map"></div>
  
      <!-- Panneau latéral (Recherche et Street View) -->
      <div class="rightside">
        <div class="sidebar">
            <!-- Barre de recherche -->
            <input type="text" id="searchBox" placeholder="Tapez votre adresse ici...">
            <button id="searchBtn">Rechercher</button>
    
            <!-- Street View -->
            <div id="street-view"></div>
    
            <button id="addLocationBtn">Ajouter une note</button>
            <button id="removeLastMarkerBtn">Supprimer la dernière entrée</button>
        </div>

        <div class="map-button">
          <a href="whattodo.html" class="btn-whattodo">Que faire ?</a>
        </div>
      </div>
  </div>

  <div id="customModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>Ajouter une note</h2>
        <input type="text" id="noteInput" placeholder="Écrivez ici...">
        <button id="saveNoteBtn">Enregistrer</button>
    </div>
</div>

<div id="alertModal" class="modal">
    <div class="modal-content alert">
        <span class="close-btn" data-close="alertModal">&times;</span>
        <h2>Alerte</h2>
        <p id="alertMessage"></p>
        <button id="alertOkBtn">OK</button>
    </div>
</div>


    <!-- Google Maps API -->
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCe1rEic3EzBMecJR6gOl5TTdlaGDJ0LWs&libraries=places&callback=initMap"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js";
      
        const firebaseConfig = {
          apiKey: "AIzaSyCF6RECXpv5heNAPYxYx71Ukb3JS1nEmkM",
          authDomain: "mapa-habitado-1b17d.firebaseapp.com",
          databaseURL: "https://mapa-habitado-1b17d-default-rtdb.europe-west1.firebasedatabase.app/",
          projectId: "mapa-habitado-1b17d",
          storageBucket: "mapa-habitado-1b17d.firebasestorage.app",
          messagingSenderId: "432226666131",
          appId: "1:432226666131:web:e2c04b2976b7c1a81c6f66"
        };
      
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
      
      //  Exposer globalement
        window.firebaseDB = db;
        window.firebaseRef = ref;
        window.firebasePush = push;
        window.firebaseOnValue = onValue;
      </script>

<!-- Footer -->
<footer class="site-footer">
  <div class="inner">

    <!-- Navigation gauche -->
    <nav class="footer-nav">
      <ul>
        <li><a href="../index.html">Accueil</a></li>
        <li><a href="whattodo.html">Que faire ?</a></li>
        <li><a href="map.html">Carte</a></li>
      </ul>
    </nav>

    <!-- Logo central -->
    <div class="footer-logo">
       <a href="../index.html" class="logo">
         <img src="../assets/images/logo.png" alt="Logo du site" />
      </a>
    </div>        

    <!-- Slogan à droite -->
    <div class="footer-tagline">
      <span id="animated-text-2"></span>
    </div>          

  </div>
</footer>
</body>
</html>
