<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>map</title>
    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>

    <script defer  type="module" src="../js/script.js"></script>
    <script defer src="../js/mouse.js"></script>
    <script src="../js/p5.js"></script> 
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/png" href="/assets/images/logo-red.png">

</head>
<body>

    <!-- Navigation bar -->
    <header class="site-header">
        <div class="inner">
          <!-- Logo -->
          <a href="/index.html" class="logo">
            <img src="../assets/images/logo.png" alt="Site logo" />
          </a>
      
          <!-- Navigation -->
          <nav>
            <ul>
              <li><a href="/index.html">Home</a></li>
              <li><a href="/pages/whattodo.html">What to do?</a></li>
              <li><a href="/pages/map.html" aria-current="page">Map</a></li>
            </ul>
          </nav>
        </div>
      </header>
    
    <!-- Main map container -->
    <div class="container">
        <div id="map"></div>
    
        <!--  Right container (Search and Street View) -->
        <div class="rightside">
          <div class="sidebar">
              <!-- Search bar -->
              <input type="text" id="searchBox" placeholder="Type your address here...">
              <button id="searchBtn">Search</button>
      
              <!-- Street View -->
              <div id="street-view"></div>
      
              <button id="addLocationBtn">Submit</button>
              <button id="removeLastMarkerBtn">Remove last entry</button>
          </div>

          <div class="map-button">
            <a href="/pages/whattodo.html" class="btn-whattodo">What to do?</a>
          </div>
        </div>
    </div>


    <div id="customModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Add a note</h2>
            <input type="text" id="noteInput" placeholder="Write here...">
            <button id="saveNoteBtn">Save</button>
        </div>
    </div>


    <!-- Google Maps API -->
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCe1rEic3EzBMecJR6gOl5TTdlaGDJ0LWs&libraries=places&callback=initMap"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js";
      
        const firebaseConfig = {
          apiKey: "AIzaSyCF6RECXpv5heNAPYxYx71Ukb3JS1nEmkM",
          authDomain: "mapa-habitado-1b17d.firebaseapp.com",
          databaseURL: "https://mapa-habitado-1b17d-default-rtdb.europe-west1.firebasedatabase.app/",
          projectId: "mapa-habitado-1b17d",
          storageBucket: "mapa-habitado-1b17d.firebasestorage.app",
          messagingSenderId: "432226666131",
          appId: "1:432226666131:web:e2c04b2976b7c1a81c6f66"
        };
      
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
      
        //  Expose globally
        window.firebaseDB = db;
        window.firebaseRef = ref;
        window.firebasePush = push;
        window.firebaseOnValue = onValue;
      </script>

    <!-- Footer -->
    <footer class="site-footer">
      <div class="inner">
    
        <!-- Left nav -->
        <nav class="footer-nav">
          <ul>
            <li><a href="/index.html">Home</a></li>
            <li><a href="/pages/whattodo.html">What to do?</a></li>
            <li><a href="/pages/map.html">Map</a></li>
          </ul>
        </nav>
    
        <!-- Center logo -->
        <div class="footer-logo">
          <a href="/index.html" class="logo">
            <img src="/assets/images/logo.png" alt="Site logo" />
          </a>
        </div>        
    
        <!-- Right tagline -->
        <div class="footer-tagline">
          <span id="animated-text-2"></span>
        </div>          
    
      </div>
    </footer>
</body>
</html>
